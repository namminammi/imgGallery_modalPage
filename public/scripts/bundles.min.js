!function(e,t){"use strict";window.Utility={buildUrl:function(e,t){var n="";for(var r in t)t.hasOwnProperty(r)&&(n+=encodeURIComponent(r)+"="+encodeURIComponent(t[r])+"&");return n.lastIndexOf("&")===n.length-1&&(n=n.substring(0,n.length-1)),e+"?"+n},extend:function(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])arguments[t].hasOwnProperty(n)&&(e[n]=arguments[t][n]);return e}}}(document),function(i,e){"use strict";function t(e,t){this.currentIndex=0,this.photos=e,this.container=t,this.showPhoto(this.currentIndex)}t.prototype.showPhoto=function(e){0<=e&&e<this.photos.length&&(this.currentIndex=e,this.container.src=Flickr.buildPhotoLargeUrl(this.photos[this.currentIndex]))},t.prototype.createThumbnailsGallery=function(e){function t(t,n){return function(e){e.preventDefault(),n.showPhoto(t),i.querySelector(".island__modal").classList.remove("hidden")}}var n,r,a;e.textContent="";for(var s=0;s<this.photos.length;s++)(n=i.createElement("img")).src=Flickr.buildThumbnailUrl(this.photos[s]),n.className="thumbnail",n.alt=this.photos[s].title,n.title=this.photos[s].title,(r=i.createElement("a")).href=n.src,r.addEventListener("click",t(s,this)),r.appendChild(n),(a=i.createElement("li")).appendChild(r),e.appendChild(a)},e.Gallery=t}(document,window),function(r,e){"use strict";e.Flickr=Utility.extend(e.Flickr||{},{buildThumbnailUrl:function(e){return"https://farm"+e.farm+".staticflickr.com/"+e.server+"/"+e.id+"_"+e.secret+"_q.jpg"},buildPhotoUrl:function(e){return"https://farm"+e.farm+".staticflickr.com/"+e.server+"/"+e.id+"_"+e.secret+".jpg"},buildPhotoLargeUrl:function(e){return"https://farm"+e.farm+".staticflickr.com/"+e.server+"/"+e.id+"_"+e.secret+"_b.jpg"},searchText:function(e){var t=Utility.extend(e,{method:"flickr.photos.search",api_key:"9bdeaf5eb2074ec0ba6cd458c24a5e37",format:"json"}),n=r.createElement("script");n.src=Utility.buildUrl("https://api.flickr.com/services/rest/",t),r.head.appendChild(n),r.head.removeChild(n)}})}(document,window),function(u,e){"use strict";var p="bonaro";function r(e,t){t=0<t?t:1,Flickr.searchText({text:e,per_page:10,jsoncallback:"Website.Homepage.showPhotos",page:t})}e.Website=Utility.extend(e.Website||{},{Homepage:{init:function(){r(p,1),u.getElementsByClassName("js-thumbnails__pager")[0].addEventListener("click",function(e){var t;e.preventDefault();var n=this.getElementsByClassName("current")[0];"SPAN"===e.target.nodeName?t=e.target.textContent:"A"===e.target.nodeName&&(t=e.target.getElementsByClassName("js-page-number")[0].textContent),t&&t!==n.getElementsByClassName("js-page-number")[0].textContent&&r(p,t)}),r(p,1),u.querySelector(".gallery__close").addEventListener("click",function(e){e.target.parentNode.parentNode.classList.add("hidden")})},showPhotos:function(e){!function(e,t){var n="/search/"+p+"/";e.textContent="";var r={"&lt;&lt;":1,"&lt;":t.currentPage-1||t.currentPage};for(var a in r)(s=u.createElement("a")).href=n+r[a],s.innerHTML='<span class="js-page-number visually-hidden">'+r[a]+"</span>"+a,(h=u.createElement("li")).appendChild(s),e.appendChild(h);var s,i=t.pagesNumber-t.currentPage,l=t.currentPage;i<5&&(l=t.currentPage-(5-i-1)||1);for(var o=l;o<t.currentPage+5&&o<=t.pagesNumber;o++)(s=u.createElement("a")).href=n+o,s.innerHTML='<span class="js-page-number">'+o+"</span>",o===t.currentPage&&(s.className+=" current"),(h=u.createElement("li")).appendChild(s),e.appendChild(h);var c={"&gt;":t.currentPage===t.pagesNumber?t.pagesNumber:t.currentPage+1,"&gt;&gt;":t.pagesNumber};for(a in c){var h;(s=u.createElement("a")).href=n+c[a],s.innerHTML='<span class="js-page-number visually-hidden">'+c[a]+"</span>"+a,(h=u.createElement("li")).appendChild(s),e.appendChild(h)}}(u.getElementsByClassName("js-thumbnails__pager")[0],{query:p,currentPage:e.photos.page,pagesNumber:e.photos.pages}),new Gallery(e.photos.photo,u.getElementsByClassName("js-gallery__image")[0]).createThumbnailsGallery(u.getElementsByClassName("js-thumbnails__list")[0])}}})}(document,window),Website.Homepage.init();